tinymce.PluginManager.add("addimagecenter", function(a, b) {
    var state;

    /* Actions to do on button click */
    function Klik() {
        state = !state; /* Switching state */
        a.fire('addimagecenter', {state: state});
        htmldata = "";
        
        htmldata += '<div class="row imagecenter">';
            htmldata += '<div class="col-xs-12 text-center">';
                htmldata += '<div class="imagecenterbox">';
                    htmldata += '<center><img class="img-responsive" src='+b+'/img/image1.jpg></center>';
                    htmldata += '<div class="caption-center">';
                        htmldata += '<div class="row">';
                            htmldata += '<div class="col-xs-12 text-center">';
                                htmldata += '<div class="caption" style="font-size:12px;""><br/>';
                                    htmldata += '<font class="photographer">Foto : Petugas melakukan pengecekan fisik kendaraan di Polres Sleman, DI Yogyakarta, Rabu (4/1)</font>. Donang Wahyu , Katadata.<br/>';
                                htmldata += '</div>';
                            htmldata += '</div>';
                        htmldata += '</div>';
                    htmldata += '</div>';
                htmldata += '</div>';
            htmldata += '</div>';
        htmldata += '</div>';

        htmldata+= '&nbsp;';

        a.insertContent(htmldata);
    }

    /* Adding the button & command */
    a.addCommand('cmd_addimagecenter', Klik);

    a.addButton("addimagecenter", {
        text: "Gambar Tengah",
        // icon: 1,
        // image: b + '/img/summary.png',
        cmd: 'cmd_addimagecenter',
    }), a.addMenuItem("addimagecenter", {
        text: "Gambar Tengah",
        // icon: 1,
        // image: b + '/img/summary.png',
        context: "format",
        cmd: 'cmd_addimagecenter',
    })
});